--- ../src/common/gres.h	2011-09-12 17:07:40.000000000 +0300
@@ -294,8 +294,9 @@
  * Log a node's current gres state
  * IN gres_list - generated by gres_plugin_node_config_validate()
  * IN node_name - name of the node for which the gres information applies
+ * RETURNS the number of remaining gpu's for that node
  */
-extern void gres_plugin_node_state_log(List gres_list, char *node_name);
+extern int gres_plugin_node_state_log(List gres_list, char *node_name);
 
 /*
  * Given a job's requested gres configuration, validate it and build a gres list
@@ -541,4 +542,5 @@
 extern int gres_plugin_step_dealloc(List step_gres_list, List job_gres_list,
 				    uint32_t job_id, uint32_t step_id);
 
+extern int gres_cnt();
 #endif /* !_GRES_H */
